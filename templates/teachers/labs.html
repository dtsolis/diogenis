{% extends "teachers/base.html" %}

{% block content %}

<div id="content" class="logged">
	<h2>ΤΑ ΕΡΓΑΣΤΗΡΙΑ ΜΟΥ</h2>
	<div id="ui-messages">
		<p>Κονσόλα Μηνυμάτων</p>
	</div>
	{% block modal_box %}
		<div id="osx-modal-content">
			<div id="osx-modal-title">Προσθήκη Εργαστηρίου</div>
			<div class="close"><a href="#" class="simplemodal-close">x</a></div>
			<div id="osx-modal-data">
				<ol id="lab-registration">
					<li id="select-lesson" class="focused">
						<h3>1</h3>
						<label for="lesson-name">Επιλέξτε Μάθημα</label>
						<select name="lesson-name">
							<option value="">Όνομα Μαθήματος</option>
							{% for r in unique_lessons %}
								<option value="{{ r.name }}">{{ r.name }}</option>
							{% endfor %}
						</select>
					</li>
					<li id="select-lab">
						<h3>2</h3>
						<label for="lesson-day">Επιλέξτε Ημέρα</label>
						<select name="lesson-day">
							<option value="">Ημέρα Μαθήματος</option>
							<option value="Δευτέρα">Δευτέρα</option>
							<option value="Τρίτη">Τρίτη</option>
							<option value="Τετάρτη">Τετάρτη</option>
							<option value="Πέμπτη">Πέμπτη</option>
							<option value="Παρασκευή">Παρασκευή</option>
						</select>
						<label for="lesson-hour">Επιλέξτε Ώρα</label>
						<select name="lesson-hour">
							<option value="">Ώρα Μαθήματος</option>
							<option value="8">8 π.μ.</option>
							<option value="10">10 π.μ.</option>
							<option value="12">12 μ.μ.</option>
							<option value="15">3 μ.μ</option>
							<option value="17">5 μ.μ</option>
							<option value="19">7 μ.μ</option>
						</select>
					</li>
					<li id="select-class">
						<h3>3</h3>
						<label for="lesson-class">Επιλέξτε Αίθουσα</label>
						<select name="lesson-class">
							<option value="">Επιλέξτε Αίθουσα</option>
						</select>
					</li>
				</ol>
				<img id="submit-lab-loader" src="/media/img/loader.gif" alt="" />
				<p><button class="simplemodal-close">Close</button> <span>(or press ESC or click the overlay)</span></p>
			</div>
		</div>
	{% endblock %}

	{% if results %}
		{% for q in results %}
			{% if q.name %}
				<h3>{{ q.name }}</h3>
			{% endif %}
			
			{% for q2 in q.labs %}
			<div class="lab">
				
				<h4>
					<span class="lab-name">{{ q2.name }}</span>
					<span class="lab-date">{{ q2.day }} {{ q2.hour }}</span>
					{% if q.labs_count > 1 and q2.students %}
						<span class="transfer enabled">
							<span>Μετακίνηση σε V</span>
							<ul class="labs-list">
								{% for s in q.labs_list %}
									<li><span class="name">{{ s.name }}</span> &ndash; <span class="day">{{ s.day }}</span> &ndash; <span class="hour">{{ s.hour }}</span></li>
								{% endfor %}
							</ul>
						</span>
					{% else %}
						<span class="transfer disabled">
							Μετακίνηση σε V
						</span>
					{% endif %}
				</h4>
				{% if q2.students %}
					<table>
						<thead>
							<tr>
								<th class="selection" abbr="Selections" scope="col">#</th>
								<th abbr="Last Name" scope="col">Επώνυμο</th>
								<th abbr="First Name" scope="col">Όνομα</th>
								<th class="am" abbr="AM" scope="col">Αριθμός Μητρώου</th>
							</tr>
						</thead>
						<tbody>				
						{% for q3 in q2.students %}
							<tr>
								<td><input type="checkbox" name="{{ q3.am }}" value="{{ q3.am }}"></td>
								<td>{{ q3.last }}</td>
								<td>{{ q3.first }}</td>
								<td>{{ q3.am }}</td>
							</tr>
						{% endfor %}
						</tbody>
					</table>
				{% else %}
					<p>Δεν έχει εγγραφεί κανένας σε αυτό το εργαστήριο.</p>
				{% endif %}
			</div>
			{% endfor %}
		{% endfor %}
	{% else %}
		<p>Δεν έχετε προσθέσει τα εργαστήρια σας στο Διογένη.</p>
	{% endif %}
</div>

{% endblock content %}
